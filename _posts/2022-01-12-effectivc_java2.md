---
layout: post
title:  "Effectivce Java - 2"
date:   2022-01-12 09:20:21 +0900
categories: java
---

> #2 기본에 충실하자 - 2

# 객체 생성과 파괴

### item6) 불필요한 객체 생성을 피해라

```java

String s = new String("aa"); // 안좋은 방법
String s = "aa"; // 문자열 리터럴을 사용하는 모든 코드가 같은 객체임을 보장
```

- 밑의 코드는 새로운 인스턴스를 매번 만드는 대신 하나의 String 인스턴스를 사용한다.
    - 같은 가상 머신안에서 이와 똑같은 문자열 리터럴을 사용하는 모든 코드가 같은 객체임을 보장된다.
- 생성 비용이 비싼 객체라면 캐싱을 고려하자
    - 정규표현식에 해당되는 Pattern은 생성비용이 높다.
    - 인스턴스를 클래스 초기화 과정에서 직접 생성해 캐싱해두고 나중에 해당 메서드가 호출될 때마다 이 인스턴스를 재사용하면 성능이 전보다 나아진다.
- 객체 생성은 비싸니까 피해야한다 라는 의미가 아니다
    - JVM입장에서는 작은 객체를 생성하고 회수하는 일은 부담이 되지 않는다.
        - 프로그램의 명확성, 간결성, 기능을 위해서 좋은 일
