---
layout: post
title:  "WebFlux-1"
date:   2021-08-03 18:20
categories: book, webflux
tags: [spring-webflux, reactprogramming]
---

## Spring Webflux
> 변화의 전파와 데이터 흐름과 관련된 선언적 프로그래밍 패러다임.

### RouterFunction
- 웹플럭스에서는 RouterFunction 클래스를 활용하여 사용자의 요청에 대한 응답 행위를 정의하도록 한다.
- 사용자는 RouterFunction 클래스만 작성하면 기타 동작은 웹플럭스가 전부 대신해준다.

```java

@FunctionalInterface
public interface RouterFunction<T extends ServerResponse> {

	/**
	 * Return the {@linkplain HandlerFunction handler function} that matches the given request.
	 * @param request the request to route
	 * @return an {@code Mono} describing the {@code HandlerFunction} that matches this request,
	 * or an empty {@code Mono} if there is no match
	 */
	Mono<HandlerFunction<T>> route(ServerRequest request);

	/**
	 * Return a composed routing function that first invokes this function,
	 * and then invokes the {@code other} function (of the same response type {@code T})
	 * if this route had {@linkplain Mono#empty() no result}.
	 * @param other the function of type {@code T} to apply when this function has no result
	 * @return a composed function that first routes with this function and then the
	 * {@code other} function if this function has no result
	 * @see #andOther(RouterFunction)
	 */
	....

}

```


- 내부의 route 메소드는 handlerFunction을  Mono를 리턴해준다.
- RouterFunction은 사용자의 요청에 대한 행위를 의미하며, 행위를 만드는것은 HandlerFunction형태로 되어있는 Mono클래스로 보자
- 웹플럭스를 통해서 화면을 보여주거나, json형식으로 데이터를 보내주는 등 이러한 대부분 행위는 사용자가 정의한 RouterFunction 클래스 내부에 기록된 함수형태를 따른다.
- 스프링 MVC에서 Controller의 역할을 한다.


