---
layout: post
title:  "JPA 정리 - 다양한 연관관계 매핑"
date:   2021-06-27 07:30
categories: book, jpa
tags: [book, jpa]
---

## 다양한 연관관계 매핑

### 일대다
- 1이 연관관계 주인
- 다 쪽에 항상 외래키(모든 관계에서)
- 객체와 테이블의 차이점 때문에 반대편 테이블에 외래키를 관리 
- @JoinColumn 사용해야함 안그러면 JoinTable이 생겨 관리의 어려움
- 단점 : 엔티티가 관리하는 외래키가 다른 테아블에 있음, 연관관계관리를 위해서 update 실행
- 다대일을 사용하자

### 일대일
- 주테이블이나 대상 테이블에 외래키를 지정가능
- 외래키에 데이터베이스에 유니크 제약조건을 넣어야함
- 주테이블에 외래키
    - 주 객체가 대상 객체의 참조를 가지고 있는 것처럼 주테이블에 외래키를 두고 대상 테이블을 찾음
    - JPA 매핑 편리
    - 장점: 주테이블만 조회해도 대상 테이블에 데이터가 있는지 없는지 확인가능
    - 단점: 값이 없으면 외래키에 NULL 허용